{"ast":null,"code":"import _slicedToArray from \"/Users/nolan/Documents/2019 - Projects/snow-data/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nolan/Documents/2019 - Projects/snow-data/src/components/Main.js\";\nimport React, { useEffect, useState } from 'react';\nimport styled from \"@emotion/styled\";\nimport size from \"../styles/size\";\nimport colors from '../styles/colors';\nimport { StationDetails } from '../components/StationDetails';\nimport { calNewSnowLastDay } from '../utils/calNewSnowLastDay';\nimport { Chart } from '../components/Chart';\nimport littleBearData from '../data/littleBearData.json';\nimport coqSummitData from '../data/coqSummitData.json';\nconst Container = styled(\"main\")`\n    flex: 1;\n    grid-area: main;\n    padding: ${size.spacing};\n    overflow-y: auto;\n    overflow-x: hidden;\n    -webkit-overflow-scrolling: touch;\n    background-color: ${colors.main};\n\n    .dashboard {\n      --column-count: 4;\n      display: grid;\n      grid-template-columns: repeat(var(--column-count), 1fr);\n      grid-gap: ${size.spacing};\n    }\n\n    .column-item {\n      --column-count: 4;\n      flex-basis: calc(100%/var(--column-count));\n      grid-column-end: span 1;\n    }\n\n    .card {\n      height: 100%;\n      padding: 1rem;\n      font-size: 2rem;\n      font-weight: 300;\n      background-color: ${colors.card};\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n    }\n\n    .item-column {\n      flex: 1 1 50%;\n      grid-column-end: span 1;\n      padding: calc(var(${size.spacing}) / 2);\n    }\n\n    .item-full {\n      flex-basis: 100%;\n      grid-column: 1 / -1;\n    }\n`;\nexport const Main = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        coqSummitStationData = _useState2[0],\n        setCoqSummitStationData = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        littleBearStationData = _useState4[0],\n        setLittleBearStationData = _useState4[1];\n\n  const _useState5 = useState({\n    coqSummit: null,\n    littleBear: null\n  }),\n        _useState6 = _slicedToArray(_useState5, 2),\n        newSnow = _useState6[0],\n        setNewSnow = _useState6[1];\n\n  const _useState7 = useState({\n    data: {\n      labels: [],\n      datasets: [{\n        label: \"1660m\",\n        fill: false,\n        data: []\n      }, {\n        label: \"1220m\",\n        fill: false,\n        data: []\n      }]\n    }\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        historicSnowData = _useState8[0],\n        setHistoricSnowData = _useState8[1];\n\n  useEffect(() => {\n    const getWeather = async station => {\n      const url = `https://wx.avalanche.ca/stations/${station}/measurements/`;\n      const response = await fetch(url);\n      const data = await response.json();\n      setCoqSummitStationData(data);\n    };\n\n    getWeather(15);\n  }, []);\n  useEffect(() => {\n    const getWeather = async station => {\n      const url = `https://wx.avalanche.ca/stations/${station}/measurements/`;\n      const response = await fetch(url);\n      const data = await response.json();\n      setLittleBearStationData(data);\n    };\n\n    getWeather(17);\n  }, []);\n  useEffect(() => {\n    const lastDaySnowCoqSum = coqSummitStationData.slice(0, 23);\n    const newSnowCoqSum = lastDaySnowCoqSum.map(day => {\n      return day.snowHeight;\n    });\n    const lastDaySnowLitBea = littleBearStationData.slice(0, 23);\n    const newSnowLitBear = lastDaySnowLitBea.map(day => {\n      return day.snowHeight;\n    });\n    const getNewSnowCoqSum = calNewSnowLastDay(newSnowCoqSum);\n    const getNewSnowLitBea = calNewSnowLastDay(newSnowLitBear);\n    const sumNewSnowCoq = getNewSnowCoqSum.reduce((a, b) => a + b, 0);\n    const sumNewSnowLitBea = getNewSnowLitBea.reduce((a, b) => a + b, 0);\n    setNewSnow({\n      coqSummit: sumNewSnowCoq,\n      littleBear: sumNewSnowLitBea\n    });\n  }, [coqSummitStationData, littleBearStationData]);\n  useEffect(() => {\n    const getSnowPackData = arr => {\n      const dataArray = [];\n      const dateArray = [];\n\n      for (let i = 0; i < arr.length; i++) {\n        if (arr[i].date.charAt(11) === \"2\" && arr[i].date.charAt(12) === \"3\") {\n          dateArray.push(arr[i].date.slice(0, 10));\n          dataArray.push(arr[i].snowpack);\n        }\n      }\n\n      return {\n        dataArray,\n        dateArray\n      };\n    };\n\n    const littleBearSnowData = getSnowPackData(littleBearData);\n    setHistoricSnowData();\n    const coqSummitSnowData = getSnowPackData(coqSummitData);\n    console.log(coqSummitSnowData);\n    setHistoricSnowData({\n      data: {\n        labels: littleBearSnowData.dateArray,\n        datasets: [{\n          data: littleBearSnowData.dataArray\n        }, {\n          data: coqSummitSnowData.dataArray\n        }]\n      }\n    });\n  }, []);\n  const coqSummitName = \"Coquihalla Summit\";\n  const coqSummitElevation = \"Elevation: 1230 m\";\n  const coqSummitStation = coqSummitStationData && coqSummitStationData[1];\n  const coqSummitTemp = coqSummitStation && coqSummitStation.airTempAvg;\n  const coqSummitNewSnow = newSnow && newSnow.coqSummit;\n  const coqSummitSnowDepth = coqSummitStation && coqSummitStation.snowHeight;\n  const littleBearName = \"Little Bear\";\n  const littleBearElevation = \"Elevation: 1660 m\";\n  const littleBearStation = littleBearStationData && littleBearStationData[1];\n  const littleBearTemp = littleBearStation && littleBearStation.airTempAvg;\n  const littleBearNewSnow = newSnow && newSnow.littleBear;\n  const littleBearSnowDepth = littleBearStation && littleBearStation.snowHeight;\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"item-column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(StationDetails, {\n    name: coqSummitName,\n    elevation: coqSummitElevation,\n    temp: coqSummitTemp,\n    newSnow: coqSummitNewSnow,\n    snowDepth: coqSummitSnowDepth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"item-column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, React.createElement(StationDetails, {\n    name: littleBearName,\n    elevation: littleBearElevation,\n    temp: littleBearTemp,\n    newSnow: littleBearNewSnow,\n    snowDepth: littleBearSnowDepth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"item-column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"item-column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"item-full\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, React.createElement(Chart, {\n    data: historicSnowData.data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  })))));\n};","map":{"version":3,"sources":["/Users/nolan/Documents/2019 - Projects/snow-data/src/components/Main.js"],"names":["React","useEffect","useState","styled","size","colors","StationDetails","calNewSnowLastDay","Chart","littleBearData","coqSummitData","Container","spacing","main","card","Main","coqSummitStationData","setCoqSummitStationData","littleBearStationData","setLittleBearStationData","coqSummit","littleBear","newSnow","setNewSnow","data","labels","datasets","label","fill","historicSnowData","setHistoricSnowData","getWeather","station","url","response","fetch","json","lastDaySnowCoqSum","slice","newSnowCoqSum","map","day","snowHeight","lastDaySnowLitBea","newSnowLitBear","getNewSnowCoqSum","getNewSnowLitBea","sumNewSnowCoq","reduce","a","b","sumNewSnowLitBea","getSnowPackData","arr","dataArray","dateArray","i","length","date","charAt","push","snowpack","littleBearSnowData","coqSummitSnowData","console","log","coqSummitName","coqSummitElevation","coqSummitStation","coqSummitTemp","airTempAvg","coqSummitNewSnow","coqSummitSnowDepth","littleBearName","littleBearElevation","littleBearStation","littleBearTemp","littleBearNewSnow","littleBearSnowDepth"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from \"@emotion/styled\";\nimport size from \"../styles/size\";\nimport colors from '../styles/colors';\nimport { StationDetails } from '../components/StationDetails';\nimport { calNewSnowLastDay } from '../utils/calNewSnowLastDay';\nimport { Chart } from '../components/Chart';\nimport littleBearData from '../data/littleBearData.json';\nimport coqSummitData from '../data/coqSummitData.json';\n\nconst Container = styled(\"main\")`\n    flex: 1;\n    grid-area: main;\n    padding: ${size.spacing};\n    overflow-y: auto;\n    overflow-x: hidden;\n    -webkit-overflow-scrolling: touch;\n    background-color: ${colors.main};\n\n    .dashboard {\n      --column-count: 4;\n      display: grid;\n      grid-template-columns: repeat(var(--column-count), 1fr);\n      grid-gap: ${size.spacing};\n    }\n\n    .column-item {\n      --column-count: 4;\n      flex-basis: calc(100%/var(--column-count));\n      grid-column-end: span 1;\n    }\n\n    .card {\n      height: 100%;\n      padding: 1rem;\n      font-size: 2rem;\n      font-weight: 300;\n      background-color: ${colors.card};\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n    }\n\n    .item-column {\n      flex: 1 1 50%;\n      grid-column-end: span 1;\n      padding: calc(var(${size.spacing}) / 2);\n    }\n\n    .item-full {\n      flex-basis: 100%;\n      grid-column: 1 / -1;\n    }\n`\nexport const Main = () => {\n  const [coqSummitStationData, setCoqSummitStationData] = useState([]);\n  const [littleBearStationData, setLittleBearStationData] = useState([]);\n  const [newSnow, setNewSnow] = useState({\n    coqSummit: null,\n    littleBear: null\n  });\n  const [historicSnowData, setHistoricSnowData] = useState(\n    {\n      data: {\n        labels: [],\n        datasets: [\n          { label: \"1660m\", fill: false, data: [] },\n          { label: \"1220m\", fill: false, data: [] }\n        ]\n      }\n    }\n  )\n  useEffect(() => {\n    const getWeather = async (station) => {\n\n      const url = `https://wx.avalanche.ca/stations/${station}/measurements/`;\n      const response = await fetch(url);\n      const data = await response.json();\n      setCoqSummitStationData(data);\n    }\n    getWeather(15);\n\n  }, [])\n\n  useEffect(() => {\n    const getWeather = async (station) => {\n\n      const url = `https://wx.avalanche.ca/stations/${station}/measurements/`;\n      const response = await fetch(url);\n      const data = await response.json();\n      setLittleBearStationData(data)\n    }\n    getWeather(17);\n  }, [])\n\n  useEffect(() => {\n    const lastDaySnowCoqSum = coqSummitStationData.slice(0, 23);\n    const newSnowCoqSum = lastDaySnowCoqSum.map((day) => {\n      return day.snowHeight;\n    })\n    const lastDaySnowLitBea = littleBearStationData.slice(0, 23);\n    const newSnowLitBear = lastDaySnowLitBea.map((day) => {\n      return day.snowHeight;\n    })\n\n    const getNewSnowCoqSum = calNewSnowLastDay(newSnowCoqSum);\n    const getNewSnowLitBea = calNewSnowLastDay(newSnowLitBear)\n    const sumNewSnowCoq = getNewSnowCoqSum.reduce((a, b) => a + b, 0);\n    const sumNewSnowLitBea = getNewSnowLitBea.reduce((a, b) => a + b, 0);\n\n    setNewSnow({ coqSummit: sumNewSnowCoq, littleBear: sumNewSnowLitBea });\n  }, [coqSummitStationData, littleBearStationData])\n\n  useEffect(() => {\n    const getSnowPackData = (arr) => {\n      const dataArray = [];\n      const dateArray = [];\n      for (let i = 0; i < arr.length; i++) {\n        if (arr[i].date.charAt(11) === \"2\" && arr[i].date.charAt(12) === \"3\") {\n          dateArray.push(arr[i].date.slice(0, 10))\n          dataArray.push(arr[i].snowpack);\n        }\n      }\n      return { dataArray, dateArray };\n    };\n    const littleBearSnowData = getSnowPackData(littleBearData);\n    setHistoricSnowData()\n    const coqSummitSnowData = getSnowPackData(coqSummitData);\n    console.log(coqSummitSnowData)\n    setHistoricSnowData({\n      data: {\n        labels: littleBearSnowData.dateArray,\n        datasets: [{ data: littleBearSnowData.dataArray }, { data: coqSummitSnowData.dataArray }]\n      }\n    })\n  }, [])\n\n  const coqSummitName = \"Coquihalla Summit\";\n  const coqSummitElevation = \"Elevation: 1230 m\"\n  const coqSummitStation = coqSummitStationData && coqSummitStationData[1];\n  const coqSummitTemp = coqSummitStation && coqSummitStation.airTempAvg;\n  const coqSummitNewSnow = newSnow && newSnow.coqSummit;\n  const coqSummitSnowDepth = coqSummitStation && coqSummitStation.snowHeight;\n\n  const littleBearName = \"Little Bear\";\n  const littleBearElevation = \"Elevation: 1660 m\"\n  const littleBearStation = littleBearStationData && littleBearStationData[1];\n  const littleBearTemp = littleBearStation && littleBearStation.airTempAvg;\n  const littleBearNewSnow = newSnow && newSnow.littleBear;\n  const littleBearSnowDepth = littleBearStation && littleBearStation.snowHeight;\n\n  return (\n    <Container>\n      <div className=\"dashboard\">\n        <div className=\"item-column\">\n          <div className=\"card\">\n            <StationDetails\n              name={coqSummitName}\n              elevation={coqSummitElevation}\n              temp={coqSummitTemp}\n              newSnow={coqSummitNewSnow}\n              snowDepth={coqSummitSnowDepth} />\n          </div>\n        </div>\n        <div className=\"item-column\">\n          <div className=\"card\">\n            <StationDetails\n              name={littleBearName}\n              elevation={littleBearElevation}\n              temp={littleBearTemp}\n              newSnow={littleBearNewSnow}\n              snowDepth={littleBearSnowDepth} />\n          </div>\n        </div>\n        <div className=\"item-column\">\n          <div className=\"card\">\n\n          </div>\n        </div>\n        <div className=\"item-column\">\n          <div className=\"card\">\n\n          </div>\n        </div>\n        <div className=\"item-full\">\n          <div className=\"card\">\n            <Chart data={historicSnowData.data} />\n          </div>\n        </div>\n      </div >\n    </Container >\n  )\n}"]},"metadata":{},"sourceType":"module"}